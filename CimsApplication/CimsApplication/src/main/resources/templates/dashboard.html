<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - CIMS Lokayukta</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f6fa;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-info {
            text-align: right;
        }

        .user-info span {
            font-size: 14px;
            opacity: 0.9;
        }

        .btn-logout {
            padding: 8px 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn-logout:hover {
            background: rgba(255,255,255,0.3);
        }

        .container {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        .sidebar {
            width: 250px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.05);
            padding: 20px 0;
        }

        .nav-item {
            padding: 15px 30px;
            color: #333;
            text-decoration: none;
            display: block;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover, .nav-item.active {
            background: #f5f6fa;
            border-left-color: #667eea;
            color: #667eea;
        }

        .main-content {
            flex: 1;
            padding: 40px;
        }

        .welcome-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .welcome-section h2 {
            color: #333;
            margin-bottom: 10px;
        }

        .welcome-section p {
            color: #666;
            line-height: 1.6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-left: 4px solid #667eea;
        }

        .stat-card h3 {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .stat-card .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #333;
        }

        .quick-actions {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-top: 30px;
        }

        .quick-actions h3 {
            color: #333;
            margin-bottom: 20px;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .action-btn {
            padding: 15px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            text-align: center;
            transition: all 0.3s;
            display: block;
        }

        .action-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .action-btn.tapal {
            background: #28a745;
        }

        .action-btn.tapal:hover {
            background: #218838;
        }
    </style>
</head>
<body>
<div class="header">
    <div>
        <h1>CIMS Portal - Lokayukta Maharashtra</h1>
        <p style="font-size: 12px; opacity: 0.9;">Complaint Information Management System</p>
    </div>
    <div class="header-info">
        <div class="user-info">
            <div sec:authentication="name">Username</div>
            <span sec:authentication="authorities">Role</span>
        </div>
        <form th:action="@{/logout}" method="post" style="display: inline;">
            <button type="submit" class="btn-logout">Logout</button>
        </form>
    </div>
</div>

<div class="container">
    <nav class="sidebar">
        <a href="/dashboard" class="nav-item active">Dashboard</a>
        <a href="/complaints/fresh" class="nav-item">Fresh Complaint Entry</a>
        <a href="/tapal/search" class="nav-item">Tapal / Institution Search</a>
        <a href="/complaints/list" class="nav-item">View All Complaints</a>
        <a href="/tapal/list" class="nav-item">View All Tapals</a>
        <a href="/complaints/search" class="nav-item">Search Complaints</a>
        <a href="/admin/users" class="nav-item" sec:authorize="hasRole('SYSTEM_ADMIN')">
            Manage Users
        </a>
    </nav>

    <main class="main-content">
        <div class="welcome-section">
            <h2>Welcome to CIMS Portal</h2>
            <p>
                The Complaint Information Management System (CIMS) is designed to streamline
                the complaint handling process for Lokayukta Maharashtra. This internal portal
                enables office staff to efficiently register, track, and manage complaints
                received from citizens.
            </p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>Total Complaints</h3>
                <div class="stat-value">0</div>
            </div>
            <div class="stat-card" style="border-left-color: #f093fb;">
                <h3>Pending</h3>
                <div class="stat-value">0</div>
            </div>
            <div class="stat-card" style="border-left-color: #4facfe;">
                <h3>Under Review</h3>
                <div class="stat-value">0</div>
            </div>
            <div class="stat-card" style="border-left-color: #43e97b;">
                <h3>Actioned</h3>
                <div class="stat-value">0</div>
            </div>
            <div class="stat-card" style="border-left-color: #fa709a;">
                <h3>Total Tapals</h3>
                <div class="stat-value">0</div>
            </div>
            <div class="stat-card" style="border-left-color: #fee140;">
                <h3>RTI Entries</h3>
                <div class="stat-value">0</div>
            </div>
        </div>

        <div class="quick-actions">
            <h3>Quick Actions</h3>
            <div class="action-buttons">
                <a href="/complaints/fresh" class="action-btn">
                    üìù Register New Complaint
                </a>
                <a href="/tapal/search" class="action-btn tapal">
                    üì® Tapal / Institution Search
                </a>
                <a href="/complaints/list" class="action-btn">
                    üìã View All Complaints
                </a>
                <a href="/tapal/list" class="action-btn tapal">
                    üìã View All Tapals
                </a>
                <a href="/complaints/search" class="action-btn">
                    üîç Search Complaints
                </a>
                <a href="/admin/users" class="action-btn"
                   sec:authorize="hasRole('SYSTEM_ADMIN')">
                    üë• Manage Users
                </a>
            </div>
        </div>
    </main>
</div>
</body>
</html>