<!-- templates/tasks/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Project Tasks</title>
    <meta charset="UTF-8">
</head>
<body>
<h1>Project Task List</h1>

<a th:href="@{/tasks/new}">Create New Task</a>

<table border="1">
    <thead>
    <tr>
        <th>ID</th>
        <th>Task Name</th>
        <th>Project ID</th>
        <th>Assigned User</th>
        <th>Start Date</th>
        <th>Due Date</th>
        <th>Completion %</th>
        <th>Overdue</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="task : ${tasks}">
        <td th:text="${task.id}"></td>
        <td th:text="${task.taskName}"></td>
        <td th:text="${task.project.id}"></td>
        <td th:text="${task.assignedUser != null ? task.assignedUser.id : 'N/A'}"></td>
        <td th:text="${task.startDate}"></td>
        <td th:text="${task.dueDate}"></td>
        <td th:text="${task.completionPercentage}"></td>
        <td th:text="${task.overdue ? 'Yes' : 'No'}"></td>
        <td>
            <a th:href="@{/tasks/{id}/edit(id=${task.id})}">Edit</a> |
            <form th:action="@{/tasks/{id}/delete(id=${task.id})}" method="post" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure?')">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
